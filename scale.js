import{createEventSource as e}from"./utils/eventSource.js";export default(t,n,r,o)=>{const d=e();let a=[t,n],s=[r,o];const i=(e,t=s,n=a)=>{const r=(n[1]-n[0])/(e-n[0]);return t[0]+(t[1]-t[0])/r},c=(e,t=s,n=a)=>{const r=(t[1]-t[0])/(e-t[0]);return n[0]+(n[1]-n[0])/r},m=()=>[a[0],a[1]];return{dtor:i,rtod:c,domain:m,range:()=>[s[0],s[1]],setDomain:(e,t)=>{a=[e,t],d.dispatch("domain")},setRange:(e,t)=>{s=[e,t],d.dispatch("range")},addEventListener:d.addEventListener,removeEventListener:d.removeEventListener,createPaddedScaleView(e){const t=()=>(()=>s[1]<s[0])()?[s[0]-e,s[1]+e]:[s[0]+e,s[1]-e];return{range:t,domain:m,rtod:e=>c(e,t(),m()),dtor:e=>i(e,t(),m())}}}};