export class Observable{constructor(s){this._unsubscribe=null,this._observer=null,this.subscribers=[];const e=this.subscribers,r={next(s){e.forEach(e=>e.next(s))}};this.observer=r,this.unsubscribe=s(r)}subscribe(s){if(!this.subscribers.includes(s))return this.subscribers.push(s),{unsubscribe(){this.subscribers.filter(e=>e!==s)}}}}export const listenEventSource=(s,e)=>new Observable(r=>{const t=s=>r.next(s);return s.addEventListener(e,t),()=>{s.removeEventListener(e,t)}});