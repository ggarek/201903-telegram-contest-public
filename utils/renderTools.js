const e="10px Verdana, Geneva, Tahoma, sans-serif";export function renderCanvas(e,t,o,l){const{axis:s}=l;e.clearRect(0,0,t,o),e.save();const r=l.scale;if(e.scale(r,r),e.beginPath(),s&&s.forEach(t=>{renderAxis(e,t)}),l.charts){const t=l.charts.x;l.charts.y.forEach(({values:o,style:s,shouldRender:r})=>{r&&lineChart(e,{xscale:l.xscale,yscale:l.yscale,xvalues:t,yvalues:o,style:{...l.chartsStyle,...s}})})}e.restore()}export const renderAxis=(t,o)=>{const{mainAxis:l,steps:s,ticks:r,mainAxisScale:n,crossAxisScale:a,adjustStep:i,drawTickLines:c,style:f}=o,h=n.domain(),k=(h[1]-h[0])/s,y=r?r.length:s;for(let s=0;s<y;s++){let y;const x=0===s;let d=f&&f.tickColor||"black";if(x&&f.firstTickColor&&(d=f.firstTickColor),y=r?r[s]:h[0]+s*k,i&&(y=i(y)),"column"===l){const l=0,s=a.range(),r=s[1]-s[0],i=a.range()[0]+l,h=n.dtor(y);if(t.lineWidth=1,c){const e=h,o=r-2*l;t.beginPath(),t.strokeStyle=d,t.moveTo(i,e),t.lineTo(i+o,e),t.stroke(),t.closePath()}t.font=f&&f.fontFamily||e,t.fillStyle=f&&f.labelFontColor||"black";const k=o.formatLabel?o.formatLabel(y):String(y),x=5;t.fillText(k,i,h-x)}else{const l=a.range()[0],s=l-10,r=n.dtor(y);if(c){const e=10;t.beginPath(),t.strokeStyle=d,t.moveTo(r,l),t.lineTo(r,l+e),t.stroke(),t.closePath()}t.font=e,t.fillStyle=f&&f.labelFontColor||"black";const i=o.formatLabel?o.formatLabel(y):String(y);t.fillText(i,r,s)}}};export function lineChart(e,t){const{xscale:o,yscale:l,xvalues:s,yvalues:r,style:n}=t,{lineJoin:a}=e;e.beginPath(),e.strokeStyle=n&&n.strokeColor||"black",e.lineWidth=n&&n.lineWidth||1;for(let t=0;t<s.length;t++){const n=o.dtor(s[t]),a=l.dtor(r[t]);0===t?e.moveTo(n,a):e.lineTo(n,a)}e.stroke()}export function renderCursor(e,t){const{position:o,intersections:l,xscale:s,yscale:r,style:n}=t,[a,i]=r.range();e.strokeStyle=n&&n.strokeColor||"black",e.beginPath(),e.moveTo(o.x,a),e.lineTo(o.x,i),e.stroke();for(let t=0;t<l.length;t++){const{x:o,y:a,style:i}=l[t],c=s.dtor(o),f=r.dtor(a);e.beginPath(),e.strokeStyle=i&&i.strokeColor||"black",e.fillStyle=n&&n.intersectionFillColor||"white",e.lineWidth=2,e.arc(c,f,4,0,2*Math.PI),e.fill(),e.stroke()}}