const e="10px Verdana, Geneva, Tahoma, sans-serif";export function renderCanvas(e,t,o,l){const{axis:s}=l;e.clearRect(0,0,t,o),e.save();const n=l.scale;if(e.scale(n,n),e.beginPath(),s&&s.forEach(t=>{renderAxis(e,t)}),l.charts){const t=l.charts.x;l.debug&&console.log(l.debug,"yscale in render",{range:l.yscale.range().join(" ")}),l.charts.y.forEach(({values:o,style:s,shouldRender:n})=>{n&&lineChart(e,{xscale:l.xscale,yscale:l.yscale,xvalues:t,yvalues:o,style:{...l.chartsStyle,...s}})})}e.restore()}export const renderAxis=(t,o)=>{const{mainAxis:l,steps:s,ticks:n,mainAxisScale:r,crossAxisScale:a,adjustStep:i,drawTickLines:c,style:f}=o,h=r.domain(),y=(h[1]-h[0])/s,k=n?n.length:s;for(let s=0;s<k;s++){let k;const d=0===s;let x=f&&f.tickColor||"black";if(d&&f.firstTickColor&&(x=f.firstTickColor),k=n?n[s]:h[0]+s*y,i&&(k=i(k)),"column"===l){const l=0,s=a.range(),n=s[1]-s[0],i=a.range()[0]+l,h=r.dtor(k);if(t.lineWidth=1,c){const e=h,o=n-2*l;t.beginPath(),t.strokeStyle=x,t.moveTo(i,e),t.lineTo(i+o,e),t.stroke(),t.closePath()}t.font=f&&f.fontFamily||e,t.fillStyle=f&&f.labelFontColor||"black";const y=o.formatLabel?o.formatLabel(k):String(k),d=5;t.fillText(y,i,h-d)}else{const l=a.range()[0],s=l-10,n=r.dtor(k);if(c){const e=10;t.beginPath(),t.strokeStyle=x,t.moveTo(n,l),t.lineTo(n,l+e),t.stroke(),t.closePath()}t.font=e,t.fillStyle=f&&f.labelFontColor||"black";const i=o.formatLabel?o.formatLabel(k):String(k);t.fillText(i,n,s)}}};export function lineChart(e,t){const{xscale:o,yscale:l,xvalues:s,yvalues:n,style:r}=t,{lineJoin:a}=e;e.beginPath(),e.strokeStyle=r&&r.strokeColor||"black",e.lineWidth=r&&r.lineWidth||1;for(let t=0;t<s.length;t++){const r=o.dtor(s[t]),a=l.dtor(n[t]);0===t?e.moveTo(r,a):e.lineTo(r,a)}e.stroke()}export function renderCursor(e,t){const{position:o,intersections:l,xscale:s,yscale:n,style:r}=t,[a,i]=n.range();e.strokeStyle=r&&r.strokeColor||"black",e.beginPath(),e.moveTo(o.x,a),e.lineTo(o.x,i),e.stroke();for(let t=0;t<l.length;t++){const{x:o,y:a,style:i}=l[t],c=s.dtor(o),f=n.dtor(a);e.beginPath(),e.strokeStyle=i&&i.strokeColor||"black",e.fillStyle=r&&r.intersectionFillColor||"white",e.lineWidth=2,e.arc(c,f,4,0,2*Math.PI),e.fill(),e.stroke()}}